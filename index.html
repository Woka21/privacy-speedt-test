<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy-First Internet Speed Test | Zero Data Collection</title>
    <meta name="description" content="Test your internet speed with complete privacy. No data collection, no tracking, no storage. Just accurate results in 3 seconds.">
    <meta name="keywords" content="internet speed test, wifi speed test, upload speed test, private speed test, no tracking">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Privacy-First Internet Speed Test">
    <meta property="og:description" content="Zero data collection speed test - completely private and accurate">
    <meta property="og:type" content="website">
    
    <!-- Schema Markup -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Privacy-First Speed Test",
        "description": "Internet speed test with zero data collection",
        "applicationCategory": "UtilityApplication",
        "offers": {"@type": "Offer", "price": "0"},
        "featureList": ["No data collection", "Instant results", "Accurate testing"]
    }
    </script>
    
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <!-- Header -->
    <div id="header-container"></div>

    <script>
    // Load header component
    fetch('/header.html')
        .then(response => response.text())
        .then(html => {
            document.getElementById('header-container').innerHTML = html;
        })
        .catch(error => {
            console.error('Failed to load header:', error);
        });
    </script>

    <!-- Location/ISP Detection Banner -->
    <div id="detection-banner" class="detection-banner hidden">
        <div class="container">
            <div class="detection-content">
                <div class="detection-icon">üéØ</div>
                <div class="detection-text">
                    <strong id="detection-message">We detected you're in New York using AT&T</strong>
                    <p id="detection-suggestion">Check your local AT&T speeds or explore other options</p>
                </div>
                <div class="detection-actions">
                    <button id="visit-local-page" class="primary-button small">Visit Local Page</button>
                    <button id="dismiss-detection" class="secondary-button small">Dismiss</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Speed Test Interface -->
            <div class="speed-test-card">
                <div id="test-interface">
                    <button id="start-test" class="primary-button">
                        <span>üöÄ Start Speed Test</span>
                    </button>
                    <p class="privacy-note">‚úàÔ∏è All testing happens in your browser. No data leaves your device.</p>
                </div>

                <div id="test-progress" class="hidden">
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                    <div class="progress-text">Initializing test...</div>
                </div>

                <!-- NEW ENHANCED RESULTS INTERFACE -->
                <div id="results-container" class="hidden">
                    <div class="results-header">
                        <h2>Your Internet Speed Results</h2>
                        <div class="results-timestamp" id="results-time"></div>
                    </div>
                    
                    <div class="results-main-grid">
                        <!-- Download Speed - Featured -->
                        <div class="speed-card primary-card">
                            <div class="speed-gauge">
                                <svg class="gauge-svg" viewBox="0 0 120 120">
                                    <circle class="gauge-bg" cx="60" cy="60" r="54"></circle>
                                    <circle class="gauge-fill download-gauge" cx="60" cy="60" r="54"></circle>
                                    <text class="gauge-value" x="60" y="60" text-anchor="middle" id="download-gauge-text">0</text>
                                    <text class="gauge-unit" x="60" y="75" text-anchor="middle">Mbps</text>
                                </svg>
                            </div>
                            <div class="speed-info">
                                <div class="speed-label">Download Speed</div>
                                <div class="speed-description">How fast you receive data</div>
                                <div class="speed-rating rating-excellent" id="download-rating">Excellent</div>
                            </div>
                            <div class="speed-capabilities">
                                <div class="capability-item">‚úÖ HD Streaming</div>
                                <div class="capability-item">‚úÖ 4K Streaming</div>
                                <div class="capability-item">‚úÖ Gaming</div>
                            </div>
                        </div>

                        <!-- Upload Speed -->
                        <div class="speed-card secondary-card">
                            <div class="speed-gauge small-gauge">
                                <svg class="gauge-svg" viewBox="0 0 100 100">
                                    <circle class="gauge-bg" cx="50" cy="50" r="45"></circle>
                                    <circle class="gauge-fill upload-gauge" cx="50" cy="50" r="45"></circle>
                                    <text class="gauge-value small" x="50" y="50" text-anchor="middle" id="upload-gauge-text">0</text>
                                    <text class="gauge-unit small" x="50" y="62" text-anchor="middle">Mbps</text>
                                </svg>
                            </div>
                            <div class="speed-info">
                                <div class="speed-label">Upload Speed</div>
                                <div class="speed-description">How fast you send data</div>
                                <div class="speed-rating rating-good" id="upload-rating">Good</div>
                            </div>
                        </div>

                        <!-- Ping -->
                        <div class="speed-card tertiary-card">
                            <div class="speed-gauge small-gauge">
                                <svg class="gauge-svg" viewBox="0 0 100 100">
                                    <circle class="gauge-bg" cx="50" cy="50" r="45"></circle>
                                    <circle class="gauge-fill ping-gauge" cx="50" cy="50" r="45"></circle>
                                    <text class="gauge-value small" x="50" y="50" text-anchor="middle" id="ping-gauge-text">0</text>
                                    <text class="gauge-unit small" x="50" y="62" text-anchor="middle">ms</text>
                                </svg>
                            </div>
                            <div class="speed-info">
                                <div class="speed-label">Ping</div>
                                <div class="speed-description">Response time</div>
                                <div class="speed-rating rating-excellent" id="ping-rating">Excellent</div>
                            </div>
                        </div>

                        <!-- Jitter -->
                        <div class="speed-card quaternary-card">
                            <div class="speed-gauge small-gauge">
                                <svg class="gauge-svg" viewBox="0 0 100 100">
                                    <circle class="gauge-bg" cx="50" cy="50" r="45"></circle>
                                    <circle class="gauge-fill jitter-gauge" cx="50" cy="50" r="45"></circle>
                                    <text class="gauge-value small" x="50" y="50" text-anchor="middle" id="jitter-gauge-text">0</text>
                                    <text class="gauge-unit small" x="50" y="62" text-anchor="middle">ms</text>
                                </svg>
                            </div>
                            <div class="speed-info">
                                <div class="speed-label">Jitter</div>
                                <div class="speed-description">Stability</div>
                                <div class="speed-rating rating-stable" id="jitter-rating">Stable</div>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Analysis -->
                    <div class="detailed-analysis">
                        <div class="analysis-header">
                            <h3>üìä Detailed Analysis</h3>
                            <div class="connection-type" id="connection-type">Fiber Connection</div>
                        </div>
                        
                        <div class="analysis-grid">
                            <div class="analysis-card">
                                <h4>üé¨ Streaming Capabilities</h4>
                                <div class="capability-list" id="streaming-capabilities">
                                    <div class="capability-item">‚úÖ Netflix HD (5 Mbps needed)</div>
                                    <div class="capability-item">‚úÖ Netflix 4K (25 Mbps needed)</div>
                                    <div class="capability-item">‚úÖ YouTube HD</div>
                                    <div class="capability-item">‚úÖ Multiple streams</div>
                                </div>
                            </div>
                            
                            <div class="analysis-card">
                                <h4>üí¨ Video Call Quality</h4>
                                <div class="capability-list" id="video-call-capabilities">
                                    <div class="capability-item">‚úÖ Zoom HD (3 Mbps needed)</div>
                                    <div class="capability-item">‚úÖ Teams HD (3 Mbps needed)</div>
                                    <div class="capability-item">‚úÖ Google Meet HD</div>
                                    <div class="capability-item">‚ùå Multiple HD calls</div>
                                </div>
                            </div>
                            
                            <div class="analysis-card">
                                <h4>üéÆ Gaming Performance</h4>
                                <div class="capability-list" id="gaming-capabilities">
                                    <div class="capability-item">‚úÖ Online gaming (25 Mbps needed)</div>
                                    <div class="capability-item">‚úÖ Game downloads</div>
                                    <div class="capability-item">‚úÖ Streaming gameplay</div>
                                    <div class="capability-item" id="ping-gaming">‚úÖ Low latency gaming</div>
                                </div>
                            </div>
                            
                            <div class="analysis-card">
                                <h4>‚òÅÔ∏è Cloud & Upload Tasks</h4>
                                <div class="capability-list" id="upload-capabilities">
                                    <div class="capability-item">‚úÖ Photo uploads</div>
                                    <div class="capability-item">‚úÖ Cloud backups</div>
                                    <div class="capability-item">‚úÖ File sharing</div>
                                    <div class="capability-item">‚ùå Large video uploads</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Speed Comparison -->
                    <div class="speed-comparison">
                        <h3>üìà How Do You Compare?</h3>
                        <div class="comparison-chart">
                            <div class="chart-item">
                                <div class="chart-label">Your Speed</div>
                                <div class="chart-bar-container">
                                    <div class="chart-bar your-speed" id="download-comparison-bar"></div>
                                </div>
                                <div class="chart-value" id="your-download-value">0 Mbps</div>
                            </div>
                            <div class="chart-item">
                                <div class="chart-label">City Average</div>
                                <div class="chart-bar-container">
                                    <div class="chart-bar city-average" id="city-comparison-bar"></div>
                                </div>
                                <div class="chart-value" id="city-download-value">142 Mbps</div>
                            </div>
                            <div class="chart-item">
                                <div class="chart-label">National Average</div>
                                <div class="chart-bar-container">
                                    <div class="chart-bar national-average" id="national-comparison-bar"></div>
                                </div>
                                <div class="chart-value" id="national-download-value">132 Mbps</div>
                            </div>
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="results-actions">
                        <button id="share-results-new" class="action-button primary-action">
                            <span>üì§ Share Results</span>
                        </button>
                        <button id="test-again-new" class="action-button secondary-action">
                            <span>üîÑ Test Again</span>
                        </button>
                        <button id="save-results" class="action-button tertiary-action">
                            <span>üíæ Save Results</span>
                        </button>
                    </div>

                    <!-- Enhanced Share Modal -->
                    <div id="share-modal-new" class="modal hidden">
                        <div class="modal-overlay"></div>
                        <div class="modal-content share-modal-content">
                            <h3>Share Your Speed Test Results</h3>
                            <div class="share-preview">
                                <div class="share-result-summary">
                                    <div class="share-speed">üî• <span id="share-download-speed">0</span> Mbps</div>
                                    <div class="share-text">My internet speed test results!</div>
                                </div>
                            </div>
                            <input type="text" id="share-link-new" readonly>
                            <div class="modal-actions">
                                <button id="copy-link-new" class="primary-button">Copy Link</button>
                                <button id="close-modal-new" class="secondary-button">Close</button>
                            </div>
                            <div class="share-social">
                                <p>Or share on:</p>
                                <div class="social-buttons">
                                    <button class="social-button twitter">Twitter</button>
                                    <button class="social-button facebook">Facebook</button>
                                    <button class="social-button reddit">Reddit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Share Modal (keep old one as backup) -->
                <div id="share-modal" class="modal hidden">
                    <div class="modal-overlay"></div>
                    <div class="modal-content">
                        <h3>Share Your Results</h3>
                        <input type="text" id="share-link" readonly>
                        <div class="modal-actions">
                            <button id="copy-link" class="primary-button">Copy Link</button>
                            <button id="close-modal" class="secondary-button">Close</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Keep existing SEO content sections -->
            <section class="seo-content">
                <h2>Understanding Your Internet Speed Results</h2>
                <div class="content-grid">
                    <article class="content-card">
                        <h3>‚¨áÔ∏è Download Speed</h3>
                        <p>How fast data comes to your device. You need:</p>
                        <ul class="speed-list">
                            <li>3+ Mbps for HD Netflix</li>
                            <li>25+ Mbps for 4K Netflix</li>
                            <li>100+ Mbps for large downloads</li>
                        </ul>
                    </article>
                    <article class="content-card">
                        <h3>‚¨ÜÔ∏è Upload Speed</h3>
                        <p>How fast you send data. You need:</p>
                        <ul class="speed-list">
                            <li>1+ Mbps for basic video calls</li>
                            <li>3+ Mbps for HD video calls</li>
                            <li>10+ Mbps for live streaming</li>
                        </ul>
                    </article>
                    <article class="content-card">
                        <h3>‚ö° Ping & Jitter</h3>
                        <p>Response time and stability. You need:</p>
                        <ul class="speed-list">
                            <li>&lt;50ms ping for smooth gaming</li>
                            <li>&lt;100ms ping for video calls</li>
                            <li>&lt;30ms jitter for stability</li>
                        </ul>
                    </article>
                </div>
            </section>

            <!-- Speed Requirements Table -->
            <section class="requirements-section">
                <h2>Internet Speed Requirements by Activity</h2>
                <div class="table-container">
                    <table class="speed-table">
                        <thead>
                            <tr>
                                <th>Activity</th>
                                <th>Minimum Speed</th>
                                <th>Recommended</th>
                                <th>Optimal Speed</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>üì∫ Netflix HD</td>
                                <td>3 Mbps</td>
                                <td>5 Mbps</td>
                                <td>25+ Mbps</td>
                            </tr>
                            <tr>
                                <td>üì∫ Netflix 4K</td>
                                <td>25 Mbps</td>
                                <td>50 Mbps</td>
                                <td>100+ Mbps</td>
                            </tr>
                            <tr>
                                <td>üí¨ Zoom/Video Calls</td>
                                <td>1 Mbps</td>
                                <td>3 Mbps</td>
                                <td>10+ Mbps</td>
                            </tr>
                            <tr>
                                <td>üéÆ Online Gaming</td>
                                <td>3 Mbps</td>
                                <td>25 Mbps</td>
                                <td>100+ Mbps</td>
                            </tr>
                            <tr>
                                <td>üì± Social Media</td>
                                <td>1 Mbps</td>
                                <td>5 Mbps</td>
                                <td>25+ Mbps</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- FAQ Section -->
            <section class="faq-section">
                <h2>Common Internet Speed Questions</h2>
                <div class="faq-container">
                    <details class="faq-item">
                        <summary>Why is my internet slow at night?</summary>
                        <div class="faq-content">
                            <p>Internet speeds often slow down during peak hours (7-11 PM) when everyone in your neighborhood is streaming and using the internet. This is called network congestion. Your ISP's network gets overloaded with high demand.</p>
                            <p><strong>Solution:</strong> Test your speed at different times. If it's consistently slow, contact your ISP or consider upgrading your plan.</p>
                        </div>
                    </details>
                    <details class="faq-item">
                        <summary>What's the difference between download and upload speed?</summary>
                        <div class="faq-content">
                            <p><strong>Download speed</strong> affects how fast you can receive data - streaming movies, browsing websites, downloading files.</p>
                            <p><strong>Upload speed</strong> affects how fast you can send data - video calls, uploading photos, live streaming, gaming.</p>
                            <p>Most internet plans have much higher download than upload speeds because most people consume more content than they create.</p>
                        </div>
                    </details>
                    <details class="faq-item">
                        <summary>How accurate is this speed test?</summary>
                        <div class="faq-content">
                            <p>Our test is highly accurate because it:</p>
                            <ul>
                                <li>Runs directly in your browser (no server delays)</li>
                                <li>Uses reliable CDN endpoints for testing</li>
                                <li>Tests multiple aspects of your connection</li>
                                <li>Performs calculations locally on your device</li>
                            </ul>
                            <p><strong>For best results:</strong> Use an Ethernet cable, close other applications, and test at different times of day.</p>
                        </div>
                    </details>
                    <details class="faq-item">
                        <summary>Why is my WiFi slower than ethernet?</summary>
                        <div class="faq-content">
                            <p>WiFi is inherently slower than ethernet due to:</p>
                            <ul>
                                <li><strong>Signal interference:</strong> Other devices, walls, and electronic equipment</li>
                                <li><strong>Distance:</strong> Signal weakens the farther you are from the router</li>
                                <li><strong>Network congestion:</strong> Multiple devices competing for bandwidth</li>
                                <li><strong>Router limitations:</strong> Older routers can't handle modern speeds</li>
                            </ul>
                            <p><strong>Solution:</strong> For maximum speed, connect directly with an Ethernet cable when possible.</p>
                        </div>
                    </details>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Privacy-First Speed Test | Zero Data Collection | <a href="#privacy">Privacy Policy</a></p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/speedtest.js"></script>
    <script src="js/ui.js"></script>
</body>
</html>